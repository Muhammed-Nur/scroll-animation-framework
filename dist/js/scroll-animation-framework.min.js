function ownKeys(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}class ScrollAnimationFramework{constructor(){this.config=_objectSpread({threshold:[0,.1,.25,.5,.75,1],rootMargin:"0px 0px -100px 0px",defaultAnimation:"fadeInUp",defaultDuration:"1s",defaultDelay:0,staggerDelay:150,debug:!1,performanceMonitor:!1,selectors:{animated:"[data-scroll-animate]",container:"[data-scroll-container]",trigger:"[data-scroll-trigger]",ignore:"[data-scroll-ignore]"},presets:{bounce:{animation:"bounce",duration:"1s"},flash:{animation:"flash",duration:"1s"},pulse:{animation:"pulse",duration:"1s"},rubberBand:{animation:"rubberBand",duration:"1s"},shakeX:{animation:"shakeX",duration:"1s"},shakeY:{animation:"shakeY",duration:"1s"},headShake:{animation:"headShake",duration:"1s"},swing:{animation:"swing",duration:"1s"},tada:{animation:"tada",duration:"1s"},wobble:{animation:"wobble",duration:"1s"},jello:{animation:"jello",duration:"1s"},heartBeat:{animation:"heartBeat",duration:"1.3s"},backInDown:{animation:"backInDown",duration:"1s"},backInLeft:{animation:"backInLeft",duration:"1s"},backInRight:{animation:"backInRight",duration:"1s"},backInUp:{animation:"backInUp",duration:"1s"},backOutDown:{animation:"backOutDown",duration:"1s"},backOutLeft:{animation:"backOutLeft",duration:"1s"},backOutRight:{animation:"backOutRight",duration:"1s"},backOutUp:{animation:"backOutUp",duration:"1s"},bounceIn:{animation:"bounceIn",duration:"0.75s"},bounceInDown:{animation:"bounceInDown",duration:"1s"},bounceInLeft:{animation:"bounceInLeft",duration:"1s"},bounceInRight:{animation:"bounceInRight",duration:"1s"},bounceInUp:{animation:"bounceInUp",duration:"1s"},bounceOut:{animation:"bounceOut",duration:"0.75s"},bounceOutDown:{animation:"bounceOutDown",duration:"1s"},bounceOutLeft:{animation:"bounceOutLeft",duration:"1s"},bounceOutRight:{animation:"bounceOutRight",duration:"1s"},bounceOutUp:{animation:"bounceOutUp",duration:"1s"},fadeIn:{animation:"fadeIn",duration:"1s"},fadeInDown:{animation:"fadeInDown",duration:"1s"},fadeInDownBig:{animation:"fadeInDownBig",duration:"1.3s"},fadeInLeft:{animation:"fadeInLeft",duration:"1s"},fadeInLeftBig:{animation:"fadeInLeftBig",duration:"1.3s"},fadeInRight:{animation:"fadeInRight",duration:"1s"},fadeInRightBig:{animation:"fadeInRightBig",duration:"1.3s"},fadeInUp:{animation:"fadeInUp",duration:"1s"},fadeInUpBig:{animation:"fadeInUpBig",duration:"1.3s"},fadeInTopLeft:{animation:"fadeInTopLeft",duration:"1s"},fadeInTopRight:{animation:"fadeInTopRight",duration:"1s"},fadeInBottomLeft:{animation:"fadeInBottomLeft",duration:"1s"},fadeInBottomRight:{animation:"fadeInBottomRight",duration:"1s"},fadeOut:{animation:"fadeOut",duration:"1s"},fadeOutDown:{animation:"fadeOutDown",duration:"1s"},fadeOutDownBig:{animation:"fadeOutDownBig",duration:"1.3s"},fadeOutLeft:{animation:"fadeOutLeft",duration:"1s"},fadeOutLeftBig:{animation:"fadeOutLeftBig",duration:"1.3s"},fadeOutRight:{animation:"fadeOutRight",duration:"1s"},fadeOutRightBig:{animation:"fadeOutRightBig",duration:"1.3s"},fadeOutUp:{animation:"fadeOutUp",duration:"1s"},fadeOutUpBig:{animation:"fadeOutUpBig",duration:"1.3s"},fadeOutTopLeft:{animation:"fadeOutTopLeft",duration:"1s"},fadeOutTopRight:{animation:"fadeOutTopRight",duration:"1s"},fadeOutBottomRight:{animation:"fadeOutBottomRight",duration:"1s"},fadeOutBottomLeft:{animation:"fadeOutBottomLeft",duration:"1s"},flip:{animation:"flip",duration:"1s"},flipInX:{animation:"flipInX",duration:"1s"},flipInY:{animation:"flipInY",duration:"1s"},flipOutX:{animation:"flipOutX",duration:"0.75s"},flipOutY:{animation:"flipOutY",duration:"0.75s"},lightSpeedInRight:{animation:"lightSpeedInRight",duration:"1s"},lightSpeedInLeft:{animation:"lightSpeedInLeft",duration:"1s"},lightSpeedOutRight:{animation:"lightSpeedOutRight",duration:"1s"},lightSpeedOutLeft:{animation:"lightSpeedOutLeft",duration:"1s"},rotateIn:{animation:"rotateIn",duration:"1s"},rotateInDownLeft:{animation:"rotateInDownLeft",duration:"1s"},rotateInDownRight:{animation:"rotateInDownRight",duration:"1s"},rotateInUpLeft:{animation:"rotateInUpLeft",duration:"1s"},rotateInUpRight:{animation:"rotateInUpRight",duration:"1s"},rotateOut:{animation:"rotateOut",duration:"1s"},rotateOutDownLeft:{animation:"rotateOutDownLeft",duration:"1s"},rotateOutDownRight:{animation:"rotateOutDownRight",duration:"1s"},rotateOutUpLeft:{animation:"rotateOutUpLeft",duration:"1s"},rotateOutUpRight:{animation:"rotateOutUpRight",duration:"1s"},slideInDown:{animation:"slideInDown",duration:"1s"},slideInLeft:{animation:"slideInLeft",duration:"1s"},slideInRight:{animation:"slideInRight",duration:"1s"},slideInUp:{animation:"slideInUp",duration:"1s"},slideOutDown:{animation:"slideOutDown",duration:"1s"},slideOutLeft:{animation:"slideOutLeft",duration:"1s"},slideOutRight:{animation:"slideOutRight",duration:"1s"},slideOutUp:{animation:"slideOutUp",duration:"1s"},zoomIn:{animation:"zoomIn",duration:"1s"},zoomInDown:{animation:"zoomInDown",duration:"1s"},zoomInLeft:{animation:"zoomInLeft",duration:"1s"},zoomInRight:{animation:"zoomInRight",duration:"1s"},zoomInUp:{animation:"zoomInUp",duration:"1s"},zoomOut:{animation:"zoomOut",duration:"1s"},zoomOutDown:{animation:"zoomOutDown",duration:"1.5s"},zoomOutLeft:{animation:"zoomOutLeft",duration:"1s"},zoomOutRight:{animation:"zoomOutRight",duration:"1s"},zoomOutUp:{animation:"zoomOutUp",duration:"1s"},hinge:{animation:"hinge",duration:"2s"},jackInTheBox:{animation:"jackInTheBox",duration:"1s"},rollIn:{animation:"rollIn",duration:"1s"},rollOut:{animation:"rollOut",duration:"1s"},fade:{animation:"fadeIn",duration:"0.8s"},"slide-up":{animation:"fadeInUp",duration:"0.8s"},"slide-down":{animation:"fadeInDown",duration:"0.8s"},"slide-left":{animation:"fadeInLeft",duration:"0.8s"},"slide-right":{animation:"fadeInRight",duration:"0.8s"},zoom:{animation:"zoomIn",duration:"0.6s"},elastic:{animation:"bounceIn",duration:"1.2s"},attention:{animation:"pulse",duration:"1s"},jack:{animation:"jackInTheBox",duration:"1s"}},classMappings:{card:"slide-up","hero-title":"fade","stats-item":"bounce","feature-box":"slide-left",testimonial:"slide-right","section-title":"slide-down",button:"bounce","demo-card":"zoom"},onElementAnimated:null,onAllAnimationsComplete:null},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),this.observer=null,this.animatedElements=new Set,this.observedElements=new Set,this.containerElements=new Map,this.stats={totalElements:0,animatedCount:0,performanceMetrics:[]},this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.setup()):this.setup()}setup(){this.createObserver(),this.scanForElements(),this.setupMutationObserver(),this.setupAccessibility(),this.setupPerformanceMonitoring(),this.config.debug&&this.startDebugPanel(),this.updateStats()}createObserver(){var t={threshold:this.config.threshold,rootMargin:this.config.rootMargin};this.observer=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&.1<t.intersectionRatio&&this.handleElementAnimation(t.target)})},t)}scanForElements(){this.scanAnimatedElements(),this.scanContainerElements(),this.scanClassBasedElements(),this.stats.totalElements=this.observedElements.size}scanAnimatedElements(){document.querySelectorAll(this.config.selectors.animated).forEach(t=>{t.matches(this.config.selectors.ignore)||(this.prepareElement(t),this.observer.observe(t),this.observedElements.add(t))})}scanContainerElements(){document.querySelectorAll(this.config.selectors.container).forEach(t=>{var e=Array.from(t.children);let n=this.parseDataAttributes(t,"scroll-container"),a=parseInt(n.stagger)||this.config.staggerDelay;e.forEach((t,e)=>{e=_objectSpread(_objectSpread({},n),{},{delay:(n.delay||0)+e*a});this.prepareElement(t,e),this.observer.observe(t),this.observedElements.add(t)})})}scanClassBasedElements(){Object.entries(this.config.classMappings).forEach(t=>{let[e,n]=t;t=".".concat(e,":not([data-scroll-animate]):not(").concat(this.config.selectors.ignore,")");document.querySelectorAll(t).forEach(t=>{var e=this.config.presets[n]||{};this.prepareElement(t,e),this.observer.observe(t),this.observedElements.add(t)})})}prepareElement(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.dataset.scrollPrepared||(e=(n=_objectSpread(_objectSpread({},this.parseDataAttributes(t,"scroll")),n)).animation||n.animate||this.config.defaultAnimation,this.config.presets[e]&&Object.assign(n,this.config.presets[e]),t._scrollConfig=n,t.dataset.scrollPrepared="true",this.setInitialState(t))}setInitialState(e){e.classList.add("animate__animated"),e.style.opacity="0",e.style.visibility="visible",Array.from(e.classList).forEach(t=>{t.startsWith("animate__")&&"animate__animated"!==t&&e.classList.remove(t)})}handleElementAnimation(t){var e,n,a;this.animatedElements.has(t)||(e=performance.now(),n=t._scrollConfig||{},this.animateElement(t,n),this.animatedElements.add(t),this.observer.unobserve(t),this.config.performanceMonitor&&(a=performance.now(),this.stats.performanceMetrics.push(a-e)),this.stats.animatedCount++,this.config.onElementAnimated&&this.config.onElementAnimated(t,n),this.updateStats())}animateElement(n,a){var t=parseInt(a.delay)||0;let i=a.duration||this.config.defaultDuration,o=a.animation||a.animate||this.config.defaultAnimation;o.startsWith("animate__")||(o="animate__".concat(o)),setTimeout(()=>{Array.from(n.classList).forEach(t=>{t.startsWith("animate__")&&"animate__animated"!==t&&n.classList.remove(t)}),n.style.setProperty("--animate-duration",i),n.classList.add(o),n.style.opacity="1";let e=t=>{t.target===n&&(n.classList.add("scroll-animate-ready"),this.handleAnimationComplete(n,a),n.removeEventListener("animationend",e))};n.addEventListener("animationend",e,{once:!0});var t=this.parseDuration(i)+100;setTimeout(()=>{n.classList.contains("scroll-animate-ready")||(n.classList.add("scroll-animate-ready"),this.handleAnimationComplete(n,a))},t)},t)}parseDuration(t){var e;return(t=t&&t.toString().match(/(\d*\.?\d+)(ms|s)?/))?(e=parseFloat(t[1]),"ms"===(t[2]||"s")?e:1e3*e):1e3}handleAnimationComplete(t,e){e.callback&&"function"==typeof window[e.callback]&&window[e.callback](t),t.dispatchEvent(new CustomEvent("scrollAnimationComplete",{detail:{element:t,config:e}})),this.stats.animatedCount===this.stats.totalElements&&this.config.onAllAnimationsComplete&&this.config.onAllAnimationsComplete()}parseDataAttributes(t,e){let n={},a=t.dataset,i=(a.scrollAnimate&&(n.animation=a.scrollAnimate),a.scrollAnimation&&(n.animation=a.scrollAnimation),a.scrollDuration&&(n.duration=a.scrollDuration),a.scrollDelay&&(n.delay=parseInt(a.scrollDelay)||0),a.scrollCallback&&(n.callback=a.scrollCallback),e.replace(/-([a-z])/g,(t,e)=>e.toUpperCase()));return Object.keys(a).forEach(e=>{if(e.startsWith(i)&&e.length>i.length){let t=e.slice(i.length);t=t.charAt(0).toLowerCase()+t.slice(1);e=a[e];["animation","duration","delay","callback"].includes(t)||("true"===e?n[t]=!0:"false"===e?n[t]=!1:isNaN(e)||""===e||e.includes("s")?n[t]=e:n[t]=Number(e))}}),n}setupMutationObserver(){new MutationObserver(t=>{let e=!1;t.forEach(t=>{t.addedNodes.forEach(t=>{1===t.nodeType&&(this.scanNewElement(t),e=!0)})}),e&&this.updateStats()}).observe(document.body,{childList:!0,subtree:!0})}scanNewElement(e){var t=[this.config.selectors.animated,this.config.selectors.container,...Object.keys(this.config.classMappings).map(t=>".".concat(t))];t.forEach(t=>{e.matches&&e.matches(t)&&(this.prepareElement(e),this.observer.observe(e),this.observedElements.add(e),this.stats.totalElements++)}),t.forEach(t=>{e.querySelectorAll(t).forEach(t=>{this.observedElements.has(t)||(this.prepareElement(t),this.observer.observe(t),this.observedElements.add(t),this.stats.totalElements++)})})}setupAccessibility(){var t=window.matchMedia("(prefers-reduced-motion: reduce)"),e=t=>{t.matches&&(document.documentElement.style.setProperty("--animate-duration","0.01s"),this.config.defaultDuration="0.01s",this.observedElements.forEach(t=>{t._scrollConfig&&(t._scrollConfig.duration="0.01s")}))};t.addEventListener("change",e),e(t)}setupPerformanceMonitoring(){if(this.config.performanceMonitor){let e=performance.now(),n=0,a=()=>{n++;var t=performance.now();1e3<=t-e&&(this.stats.fps=Math.round(1e3*n/(t-e)),n=0,e=t),requestAnimationFrame(a)};requestAnimationFrame(a)}}startDebugPanel(){var t=document.getElementById("debugPanel");t&&(t.classList.add("active"),this.updateDebugPanel(),setInterval(()=>this.updateDebugPanel(),1e3))}updateDebugPanel(){var t=document.getElementById("observedCount"),e=document.getElementById("animatedCount"),n=document.getElementById("performanceInfo");t&&(t.textContent=this.stats.totalElements),e&&(e.textContent=this.stats.animatedCount),n&&(t=0<this.stats.performanceMetrics.length?this.stats.performanceMetrics.reduce((t,e)=>t+e,0)/this.stats.performanceMetrics.length:0,n.textContent=0<t?"".concat(t.toFixed(2),"ms avg"):"Good")}updateStats(){this.config.debug&&this.updateDebugPanel()}addElement(t){this.prepareElement(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),this.observer.observe(t),this.observedElements.add(t),this.stats.totalElements++,this.updateStats()}removeElement(t){this.observer.unobserve(t),this.animatedElements.delete(t),this.observedElements.delete(t),this.stats.totalElements--,this.updateStats()}triggerAnimation(t){let n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};document.querySelectorAll(t).forEach(e=>{e.style.opacity="0",e.classList.add("animate__animated"),Array.from(e.classList).forEach(t=>{t.startsWith("animate__")&&"animate__animated"!==t&&e.classList.remove(t)}),this.prepareElement(e,n),setTimeout(()=>{this.animateElement(e,e._scrollConfig)},50)})}resetAllAnimations(){this.animatedElements.clear(),this.stats.animatedCount=0,this.observedElements.forEach(e=>{e.style.opacity="0",e.classList.add("animate__animated"),Array.from(e.classList).forEach(t=>{t.startsWith("animate__")&&"animate__animated"!==t&&e.classList.remove(t)}),e.classList.remove("scroll-animate-ready"),e.dataset.scrollPrepared="",delete e._scrollConfig}),this.observer.disconnect(),this.createObserver(),this.scanForElements(),this.updateStats()}updateConfig(t){this.config=_objectSpread(_objectSpread({},this.config),t),(t.threshold||t.rootMargin)&&(this.observer.disconnect(),this.createObserver(),this.scanForElements()),this.updateStats()}destroy(){this.observer&&this.observer.disconnect(),this.animatedElements.clear(),this.observedElements.clear(),this.containerElements.clear()}getStats(){return _objectSpread(_objectSpread({},this.stats),{},{config:this.config,observedElements:this.observedElements.size,animatedElements:this.animatedElements.size})}getElement(t){t=document.querySelector(t);return t?{element:t,isAnimated:this.animatedElements.has(t),isObserved:this.observedElements.has(t),config:t._scrollConfig}:null}pauseAnimations(){document.documentElement.style.setProperty("--animate-duration","0s")}resumeAnimations(){document.documentElement.style.removeProperty("--animate-duration")}}window.ScrollAnimationFramework=ScrollAnimationFramework;let scrollAnimator;function toggleDebug(){var t=document.getElementById("debugPanel");t&&t.classList.toggle("active")}!document.querySelector("[data-scroll-auto-init]")&&!1===window.SCROLL_ANIMATOR_AUTO_INIT||(scrollAnimator=new ScrollAnimationFramework(_objectSpread({debug:!1,performanceMonitor:!0,defaultAnimation:"fadeInUp",staggerDelay:150},window.SCROLL_ANIMATOR_CONFIG))),window.scrollAnimator=scrollAnimator,document.addEventListener("visibilitychange",()=>{var t;document.hidden?null!=(t=scrollAnimator)&&t.pauseAnimations():null!=(t=scrollAnimator)&&t.resumeAnimations()}),"undefined"!=typeof module&&module.exports&&(module.exports=ScrollAnimationFramework);
//# sourceMappingURL=scroll-animation-framework.min.js.map
