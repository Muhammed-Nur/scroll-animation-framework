function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,o,r,s=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=o.call(n)).done)&&(s.push(a.value),s.length!==e);u=!0);}catch(t){l=!0,i=t}finally{try{if(!u&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(l)throw i}}return s}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys(e,t){var n,a=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)),a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,_toPropertyKey(a.key),a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}var scrollAnimator,ScrollAnimationFramework=(()=>_createClass(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.config=_objectSpread({threshold:[0,.1,.25,.5,.75,1],rootMargin:"0px 0px -100px 0px",defaultAnimation:"fadeInUp",defaultDuration:"1s",defaultDelay:0,staggerDelay:150,debug:!1,performanceMonitor:!1,selectors:{animated:"[data-scroll-animate]",container:"[data-scroll-container]",trigger:"[data-scroll-trigger]",ignore:"[data-scroll-ignore]"},presets:{bounce:{animation:"bounce",duration:"1s"},flash:{animation:"flash",duration:"1s"},pulse:{animation:"pulse",duration:"1s"},rubberBand:{animation:"rubberBand",duration:"1s"},shakeX:{animation:"shakeX",duration:"1s"},shakeY:{animation:"shakeY",duration:"1s"},headShake:{animation:"headShake",duration:"1s"},swing:{animation:"swing",duration:"1s"},tada:{animation:"tada",duration:"1s"},wobble:{animation:"wobble",duration:"1s"},jello:{animation:"jello",duration:"1s"},heartBeat:{animation:"heartBeat",duration:"1.3s"},backInDown:{animation:"backInDown",duration:"1s"},backInLeft:{animation:"backInLeft",duration:"1s"},backInRight:{animation:"backInRight",duration:"1s"},backInUp:{animation:"backInUp",duration:"1s"},backOutDown:{animation:"backOutDown",duration:"1s"},backOutLeft:{animation:"backOutLeft",duration:"1s"},backOutRight:{animation:"backOutRight",duration:"1s"},backOutUp:{animation:"backOutUp",duration:"1s"},bounceIn:{animation:"bounceIn",duration:"0.75s"},bounceInDown:{animation:"bounceInDown",duration:"1s"},bounceInLeft:{animation:"bounceInLeft",duration:"1s"},bounceInRight:{animation:"bounceInRight",duration:"1s"},bounceInUp:{animation:"bounceInUp",duration:"1s"},bounceOut:{animation:"bounceOut",duration:"0.75s"},bounceOutDown:{animation:"bounceOutDown",duration:"1s"},bounceOutLeft:{animation:"bounceOutLeft",duration:"1s"},bounceOutRight:{animation:"bounceOutRight",duration:"1s"},bounceOutUp:{animation:"bounceOutUp",duration:"1s"},fadeIn:{animation:"fadeIn",duration:"1s"},fadeInDown:{animation:"fadeInDown",duration:"1s"},fadeInDownBig:{animation:"fadeInDownBig",duration:"1.3s"},fadeInLeft:{animation:"fadeInLeft",duration:"1s"},fadeInLeftBig:{animation:"fadeInLeftBig",duration:"1.3s"},fadeInRight:{animation:"fadeInRight",duration:"1s"},fadeInRightBig:{animation:"fadeInRightBig",duration:"1.3s"},fadeInUp:{animation:"fadeInUp",duration:"1s"},fadeInUpBig:{animation:"fadeInUpBig",duration:"1.3s"},fadeInTopLeft:{animation:"fadeInTopLeft",duration:"1s"},fadeInTopRight:{animation:"fadeInTopRight",duration:"1s"},fadeInBottomLeft:{animation:"fadeInBottomLeft",duration:"1s"},fadeInBottomRight:{animation:"fadeInBottomRight",duration:"1s"},fadeOut:{animation:"fadeOut",duration:"1s"},fadeOutDown:{animation:"fadeOutDown",duration:"1s"},fadeOutDownBig:{animation:"fadeOutDownBig",duration:"1.3s"},fadeOutLeft:{animation:"fadeOutLeft",duration:"1s"},fadeOutLeftBig:{animation:"fadeOutLeftBig",duration:"1.3s"},fadeOutRight:{animation:"fadeOutRight",duration:"1s"},fadeOutRightBig:{animation:"fadeOutRightBig",duration:"1.3s"},fadeOutUp:{animation:"fadeOutUp",duration:"1s"},fadeOutUpBig:{animation:"fadeOutUpBig",duration:"1.3s"},fadeOutTopLeft:{animation:"fadeOutTopLeft",duration:"1s"},fadeOutTopRight:{animation:"fadeOutTopRight",duration:"1s"},fadeOutBottomRight:{animation:"fadeOutBottomRight",duration:"1s"},fadeOutBottomLeft:{animation:"fadeOutBottomLeft",duration:"1s"},flip:{animation:"flip",duration:"1s"},flipInX:{animation:"flipInX",duration:"1s"},flipInY:{animation:"flipInY",duration:"1s"},flipOutX:{animation:"flipOutX",duration:"0.75s"},flipOutY:{animation:"flipOutY",duration:"0.75s"},lightSpeedInRight:{animation:"lightSpeedInRight",duration:"1s"},lightSpeedInLeft:{animation:"lightSpeedInLeft",duration:"1s"},lightSpeedOutRight:{animation:"lightSpeedOutRight",duration:"1s"},lightSpeedOutLeft:{animation:"lightSpeedOutLeft",duration:"1s"},rotateIn:{animation:"rotateIn",duration:"1s"},rotateInDownLeft:{animation:"rotateInDownLeft",duration:"1s"},rotateInDownRight:{animation:"rotateInDownRight",duration:"1s"},rotateInUpLeft:{animation:"rotateInUpLeft",duration:"1s"},rotateInUpRight:{animation:"rotateInUpRight",duration:"1s"},rotateOut:{animation:"rotateOut",duration:"1s"},rotateOutDownLeft:{animation:"rotateOutDownLeft",duration:"1s"},rotateOutDownRight:{animation:"rotateOutDownRight",duration:"1s"},rotateOutUpLeft:{animation:"rotateOutUpLeft",duration:"1s"},rotateOutUpRight:{animation:"rotateOutUpRight",duration:"1s"},slideInDown:{animation:"slideInDown",duration:"1s"},slideInLeft:{animation:"slideInLeft",duration:"1s"},slideInRight:{animation:"slideInRight",duration:"1s"},slideInUp:{animation:"slideInUp",duration:"1s"},slideOutDown:{animation:"slideOutDown",duration:"1s"},slideOutLeft:{animation:"slideOutLeft",duration:"1s"},slideOutRight:{animation:"slideOutRight",duration:"1s"},slideOutUp:{animation:"slideOutUp",duration:"1s"},zoomIn:{animation:"zoomIn",duration:"1s"},zoomInDown:{animation:"zoomInDown",duration:"1s"},zoomInLeft:{animation:"zoomInLeft",duration:"1s"},zoomInRight:{animation:"zoomInRight",duration:"1s"},zoomInUp:{animation:"zoomInUp",duration:"1s"},zoomOut:{animation:"zoomOut",duration:"1s"},zoomOutDown:{animation:"zoomOutDown",duration:"1.5s"},zoomOutLeft:{animation:"zoomOutLeft",duration:"1s"},zoomOutRight:{animation:"zoomOutRight",duration:"1s"},zoomOutUp:{animation:"zoomOutUp",duration:"1s"},hinge:{animation:"hinge",duration:"2s"},jackInTheBox:{animation:"jackInTheBox",duration:"1s"},rollIn:{animation:"rollIn",duration:"1s"},rollOut:{animation:"rollOut",duration:"1s"},fade:{animation:"fadeIn",duration:"0.8s"},"slide-up":{animation:"fadeInUp",duration:"0.8s"},"slide-down":{animation:"fadeInDown",duration:"0.8s"},"slide-left":{animation:"fadeInLeft",duration:"0.8s"},"slide-right":{animation:"fadeInRight",duration:"0.8s"},zoom:{animation:"zoomIn",duration:"0.6s"},elastic:{animation:"bounceIn",duration:"1.2s"},attention:{animation:"pulse",duration:"1s"},jack:{animation:"jackInTheBox",duration:"1s"}},classMappings:{card:"slide-up","hero-title":"fade","stats-item":"bounce","feature-box":"slide-left",testimonial:"slide-right","section-title":"slide-down",button:"bounce","demo-card":"zoom"},onElementAnimated:null,onAllAnimationsComplete:null},e),this.observer=null,this.animatedElements=new Set,this.observedElements=new Set,this.containerElements=new Map,this.stats={totalElements:0,animatedCount:0,performanceMetrics:[]},this.init()},[{key:"init",value:function(){var t=this;"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){return t.setup()}):this.setup()}},{key:"setup",value:function(){this.createObserver(),this.scanForElements(),this.setupMutationObserver(),this.setupAccessibility(),this.setupPerformanceMonitoring(),this.config.debug&&this.startDebugPanel(),this.updateStats()}},{key:"createObserver",value:function(){var e=this,t={threshold:this.config.threshold,rootMargin:this.config.rootMargin};this.observer=new IntersectionObserver(function(t){t.forEach(function(t){t.isIntersecting&&.1<t.intersectionRatio&&e.handleElementAnimation(t.target)})},t)}},{key:"scanForElements",value:function(){this.scanAnimatedElements(),this.scanContainerElements(),this.scanClassBasedElements(),this.stats.totalElements=this.observedElements.size}},{key:"scanAnimatedElements",value:function(){var e=this;document.querySelectorAll(this.config.selectors.animated).forEach(function(t){t.matches(e.config.selectors.ignore)||(e.prepareElement(t),e.observer.observe(t),e.observedElements.add(t))})}},{key:"scanContainerElements",value:function(){var i=this;document.querySelectorAll(this.config.selectors.container).forEach(function(t){var e=Array.from(t.children),n=i.parseDataAttributes(t,"scroll-container"),a=parseInt(n.stagger)||i.config.staggerDelay;e.forEach(function(t,e){e=_objectSpread(_objectSpread({},n),{},{delay:(n.delay||0)+e*a});i.prepareElement(t,e),i.observer.observe(t),i.observedElements.add(t)})})}},{key:"scanClassBasedElements",value:function(){var a=this;Object.entries(this.config.classMappings).forEach(function(t){var t=_slicedToArray(t,2),e=t[0],n=t[1],t=".".concat(e,":not([data-scroll-animate]):not(").concat(a.config.selectors.ignore,")");document.querySelectorAll(t).forEach(function(t){var e=a.config.presets[n]||{};a.prepareElement(t,e),a.observer.observe(t),a.observedElements.add(t)})})}},{key:"prepareElement",value:function(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.dataset.scrollPrepared||(e=(n=_objectSpread(_objectSpread({},this.parseDataAttributes(t,"scroll")),n)).animation||n.animate||this.config.defaultAnimation,this.config.presets[e]&&Object.assign(n,this.config.presets[e]),t._scrollConfig=n,t.dataset.scrollPrepared="true",this.setInitialState(t))}},{key:"setInitialState",value:function(e){e.classList.add("animate__animated"),e.style.opacity="0",e.style.visibility="visible",Array.from(e.classList).forEach(function(t){t.startsWith("animate__")&&"animate__animated"!==t&&e.classList.remove(t)})}},{key:"handleElementAnimation",value:function(t){var e,n,a;this.animatedElements.has(t)||(e=performance.now(),n=t._scrollConfig||{},this.animateElement(t,n),this.animatedElements.add(t),this.observer.unobserve(t),this.config.performanceMonitor&&(a=performance.now(),this.stats.performanceMetrics.push(a-e)),this.stats.animatedCount++,this.config.onElementAnimated&&this.config.onElementAnimated(t,n),this.updateStats())}},{key:"animateElement",value:function(n,a){var i=this,t=parseInt(a.delay)||0,o=a.duration||this.config.defaultDuration,r=a.animation||a.animate||this.config.defaultAnimation;r.startsWith("animate__")||(r="animate__".concat(r)),setTimeout(function(){function e(t){t.target===n&&(n.classList.add("scroll-animate-ready"),i.handleAnimationComplete(n,a),n.removeEventListener("animationend",e))}Array.from(n.classList).forEach(function(t){t.startsWith("animate__")&&"animate__animated"!==t&&n.classList.remove(t)}),n.style.setProperty("--animate-duration",o),n.classList.add(r),n.style.opacity="1";n.addEventListener("animationend",e,{once:!0});var t=i.parseDuration(o)+100;setTimeout(function(){n.classList.contains("scroll-animate-ready")||(n.classList.add("scroll-animate-ready"),i.handleAnimationComplete(n,a))},t)},t)}},{key:"parseDuration",value:function(t){var e;return(t=t&&t.toString().match(/(\d*\.?\d+)(ms|s)?/))?(e=parseFloat(t[1]),"ms"===(t[2]||"s")?e:1e3*e):1e3}},{key:"handleAnimationComplete",value:function(t,e){e.callback&&"function"==typeof window[e.callback]&&window[e.callback](t),t.dispatchEvent(new CustomEvent("scrollAnimationComplete",{detail:{element:t,config:e}})),this.stats.animatedCount===this.stats.totalElements&&this.config.onAllAnimationsComplete&&this.config.onAllAnimationsComplete()}},{key:"parseDataAttributes",value:function(t,e){var n={},a=t.dataset,i=(a.scrollAnimate&&(n.animation=a.scrollAnimate),a.scrollAnimation&&(n.animation=a.scrollAnimation),a.scrollDuration&&(n.duration=a.scrollDuration),a.scrollDelay&&(n.delay=parseInt(a.scrollDelay)||0),a.scrollCallback&&(n.callback=a.scrollCallback),e.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}));return Object.keys(a).forEach(function(t){var e;t.startsWith(i)&&t.length>i.length&&(e=(e=t.slice(i.length)).charAt(0).toLowerCase()+e.slice(1),t=a[t],["animation","duration","delay","callback"].includes(e)||("true"===t?n[e]=!0:"false"===t?n[e]=!1:isNaN(t)||""===t||t.includes("s")?n[e]=t:n[e]=Number(t)))}),n}},{key:"setupMutationObserver",value:function(){var n=this;new MutationObserver(function(t){var e=!1;t.forEach(function(t){t.addedNodes.forEach(function(t){1===t.nodeType&&(n.scanNewElement(t),e=!0)})}),e&&n.updateStats()}).observe(document.body,{childList:!0,subtree:!0})}},{key:"scanNewElement",value:function(e){var n=this,t=[this.config.selectors.animated,this.config.selectors.container].concat(_toConsumableArray(Object.keys(this.config.classMappings).map(function(t){return".".concat(t)})));t.forEach(function(t){e.matches&&e.matches(t)&&(n.prepareElement(e),n.observer.observe(e),n.observedElements.add(e),n.stats.totalElements++)}),t.forEach(function(t){e.querySelectorAll(t).forEach(function(t){n.observedElements.has(t)||(n.prepareElement(t),n.observer.observe(t),n.observedElements.add(t),n.stats.totalElements++)})})}},{key:"setupAccessibility",value:function(){function t(t){t.matches&&(document.documentElement.style.setProperty("--animate-duration","0.01s"),e.config.defaultDuration="0.01s",e.observedElements.forEach(function(t){t._scrollConfig&&(t._scrollConfig.duration="0.01s")}))}var e=this,n=window.matchMedia("(prefers-reduced-motion: reduce)");n.addEventListener("change",t),t(n)}},{key:"setupPerformanceMonitoring",value:function(){var e,n,a,i=this;this.config.performanceMonitor&&(e=performance.now(),n=0,a=function(){n++;var t=performance.now();1e3<=t-e&&(i.stats.fps=Math.round(1e3*n/(t-e)),n=0,e=t),requestAnimationFrame(a)},requestAnimationFrame(a))}},{key:"startDebugPanel",value:function(){var t=this,e=document.getElementById("debugPanel");e&&(e.classList.add("active"),this.updateDebugPanel(),setInterval(function(){return t.updateDebugPanel()},1e3))}},{key:"updateDebugPanel",value:function(){var t=document.getElementById("observedCount"),e=document.getElementById("animatedCount"),n=document.getElementById("performanceInfo");t&&(t.textContent=this.stats.totalElements),e&&(e.textContent=this.stats.animatedCount),n&&(t=0<this.stats.performanceMetrics.length?this.stats.performanceMetrics.reduce(function(t,e){return t+e},0)/this.stats.performanceMetrics.length:0,n.textContent=0<t?"".concat(t.toFixed(2),"ms avg"):"Good")}},{key:"updateStats",value:function(){this.config.debug&&this.updateDebugPanel()}},{key:"addElement",value:function(t){this.prepareElement(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),this.observer.observe(t),this.observedElements.add(t),this.stats.totalElements++,this.updateStats()}},{key:"removeElement",value:function(t){this.observer.unobserve(t),this.animatedElements.delete(t),this.observedElements.delete(t),this.stats.totalElements--,this.updateStats()}},{key:"triggerAnimation",value:function(t){var n=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};document.querySelectorAll(t).forEach(function(e){e.style.opacity="0",e.classList.add("animate__animated"),Array.from(e.classList).forEach(function(t){t.startsWith("animate__")&&"animate__animated"!==t&&e.classList.remove(t)}),n.prepareElement(e,a),setTimeout(function(){n.animateElement(e,e._scrollConfig)},50)})}},{key:"resetAllAnimations",value:function(){this.animatedElements.clear(),this.stats.animatedCount=0,this.observedElements.forEach(function(e){e.style.opacity="0",e.classList.add("animate__animated"),Array.from(e.classList).forEach(function(t){t.startsWith("animate__")&&"animate__animated"!==t&&e.classList.remove(t)}),e.classList.remove("scroll-animate-ready"),e.dataset.scrollPrepared="",delete e._scrollConfig}),this.observer.disconnect(),this.createObserver(),this.scanForElements(),this.updateStats()}},{key:"updateConfig",value:function(t){this.config=_objectSpread(_objectSpread({},this.config),t),(t.threshold||t.rootMargin)&&(this.observer.disconnect(),this.createObserver(),this.scanForElements()),this.updateStats()}},{key:"destroy",value:function(){this.observer&&this.observer.disconnect(),this.animatedElements.clear(),this.observedElements.clear(),this.containerElements.clear()}},{key:"getStats",value:function(){return _objectSpread(_objectSpread({},this.stats),{},{config:this.config,observedElements:this.observedElements.size,animatedElements:this.animatedElements.size})}},{key:"getElement",value:function(t){t=document.querySelector(t);return t?{element:t,isAnimated:this.animatedElements.has(t),isObserved:this.observedElements.has(t),config:t._scrollConfig}:null}},{key:"pauseAnimations",value:function(){document.documentElement.style.setProperty("--animate-duration","0s")}},{key:"resumeAnimations",value:function(){document.documentElement.style.removeProperty("--animate-duration")}}]))();function toggleDebug(){var t=document.getElementById("debugPanel");t&&t.classList.toggle("active")}window.ScrollAnimationFramework=ScrollAnimationFramework,!document.querySelector("[data-scroll-auto-init]")&&!1===window.SCROLL_ANIMATOR_AUTO_INIT||(scrollAnimator=new ScrollAnimationFramework(_objectSpread({debug:!1,performanceMonitor:!0,defaultAnimation:"fadeInUp",staggerDelay:150},window.SCROLL_ANIMATOR_CONFIG))),window.scrollAnimator=scrollAnimator,document.addEventListener("visibilitychange",function(){var t;document.hidden?null!=(t=scrollAnimator)&&t.pauseAnimations():null!=(t=scrollAnimator)&&t.resumeAnimations()}),"undefined"!=typeof module&&module.exports&&(module.exports=ScrollAnimationFramework);
//# sourceMappingURL=scroll-animation-framework.min.js.map
